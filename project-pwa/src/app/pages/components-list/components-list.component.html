<div>
    @if(showSpinner) {
    <mat-spinner diameter="150"></mat-spinner>
    }

    @if(!showSpinner) {
    <div class="container">
        <h1 class="animate__animated animate__backInLeft">Products from FakeStoreAPI</h1>
        <div class="view-switch-container">
            <button mat-raised-button (click)="changetoCards()"><mat-icon>view_module</mat-icon></button>
            <button mat-raised-button (click)="changetoTable()"><mat-icon>list</mat-icon></button>
        </div>
        @if(tableView) {
        <table mat-table [dataSource]="products()" class="mat-elevation-z8">
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> Id </th>
                <td mat-cell *matCellDef="let product">
                    <a [routerLink]="['/components', product.id]"
                        class="list-group-item list-group-item-action animate__animated animate__fadeIn">
                        {{ product.id }}
                    </a>
                </td>
            </ng-container>

            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef> Title </th>
                <td mat-cell *matCellDef="let product">
                    <a [routerLink]="['/components', product.id]"
                        class="list-group-item list-group-item-action animate__animated animate__fadeIn">
                        {{ product.title }}
                    </a>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>
        </table>
        }
        @if(cardsView) {
        <div class="cards-container">
            @for (product of products(); track product.id) {
            <a [routerLink]="['/components', product.id]"
                class="list-group-item list-group-item-action animate__animated animate__fadeIn">
                <mat-card class="example-card" appearance="outlined">
                    <mat-card-header>
                        <mat-card-title> {{ product.id }} </mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p>
                            {{ product.title }}
                        </p>
                    </mat-card-content>
                </mat-card>
            </a>

            }
        </div>
        }
    </div>
    }
</div>